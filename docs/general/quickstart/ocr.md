# OCR 功能

OCR 功能是 Bob 近期才新增的功能，独立于翻译功能之外，不要把「OCR 功能」和「截图翻译」搞混淆了。

虽然也可以用「截图翻译」充当 OCR 的作用，不过「OCR 功能」专注于图片文本识别，新开一个独立的窗口，在排版和多图识别等方面都会更有优势。😬 据我所知，有不少用户压根就是把 Bob 当 OCR 在用，现在好了，你可以直接用「OCR 功能」了。

## 核心功能

**截图 OCR**

* 按下「截图 OCR」快捷键（默认 `⇧ + ⌥ + S`）或者点击菜单栏 Bob 图标菜单中的「截图 OCR」
* 选中屏幕上的对应的位置
* 松手即可开始识别

<img src="https://gh.wwang.de/ripperhe/oss/master/2022/0507/snip_ocr.gif" alt="截图 OCR" width=660 />

**静默截图 OCR**

* 按下「静默截图 OCR」快捷键（没有设置默认快捷键，可去「 Bob 偏好设置-OCR-OCR 设置」添加）或者点击菜单栏 Bob 图标菜单中的「静默截图 OCR」
* 选中屏幕上的对应的位置
* 松手即可开始识别

「静默截图 OCR」不会自动显示 OCR 窗口，识别完成后直接将文本拷贝到剪切板。

**访达选图 OCR**

按下「访达选图 OCR」快捷键（没有设置默认快捷键，可去「 Bob 偏好设置-OCR-OCR 设置」添加）或者点击菜单栏 Bob 图标菜单中的「访达选图 OCR」。

在弹出的访达窗口中选中对应的图片文件（可以一次性选中多张），点击右下角「开始识别」即可。

<img src="https://gh.wwang.de/ripperhe/oss/master/2022/0507/file_ocr.jpg" alt="访达选图 OCR" width=600 />

**离线识别**

Bob 支持离线文本识别，不过需要在 macOS 11 以上的系统才可以使用。如果你的 macOS 系统版本较低，也不用担心，可以使用 Bob 内部集成的腾讯、百度、有道和谷歌等在线文本识别服务。

**连续识别**

如果需要连续识别多个位置的图片，可点击翻译窗口右下角的连续识别按钮（橙色即为开启状态），开启连续识别模式。开启之后，Bob 会将识别结果依次拼接在文本框内。

**二维码识别**

Bob 可以自动识别图片中的二维码，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。

**自动复制**

Bob 支持自动将 OCR 的识别结果复制到剪切板，此功能是默认开启的，可以在 OCR 窗口右上角的菜单里面关闭。

**智能分段**

为了更好的体验，Bob 自研了一套段落识别算法，尽最大努力还原段落状态，减少后期的修改成本。

另外部分 OCR 服务商本身也自带段落识别的信息，我也将其保留下来了，大家可以自行选择使用 Bob 的算法还是 OCR 服务商的算法。

?> 如果遇到多列排版的文档，截图时请只框选其中一列进行识别，否则可能会影响段落识别的效果

## OCR 窗口

OCR 窗口的主要组成部分如下：

<img src="https://gh.wwang.de/ripperhe/oss/master/2022/0507/ocr_window.jpg" alt="OCR 窗口" width=1000 />

OCR 窗口沿用了翻译窗口的方案，点击窗口以外的区域窗口会自动消失，如果不想让窗口消失可以点击左上角的按钮。

小提示：

* 识别小语种时，指定语言效果一般会更优
* OCR 窗口支持拖拽改变大小，鼠标放到窗口右下角即可拖拽
* OCR 窗口右上角快捷设置菜单里面放了一些可能会比较常用设置项，可以探索下
* 服务切换按钮 **鼠标右键点击** 可直接前往「Bob 偏好设置 - OCR - 服务」
* 快捷设置按钮 **鼠标右键点击** 可直接前往「Bob 偏好设置 - OCR - OCR 设置」

OCR 窗口内可用的快捷键：

| 功能 | 快捷键 |
|---|---|
| 重试 | `⌘ + R` |
| 关闭窗口 | `⌘ + W` 或者 `⎋`（esc 键） |

## 配置服务

Bob 接入了多家 OCR 服务，你可以自由选择，详情请看[这篇文章](/general/advance/service.md)。

申请好对应的秘钥之后，记得在这个页面添加服务。

<img src="https://gh.wwang.de/ripperhe/oss/master/2022/0507/ocr_service.jpg" alt="OCR 服务" width=800 />

!> OCR 功能暂时不支持插件，后续会加上。

## 更多设置

OCR 功能相关的设置在「Bob 偏好设置 - OCR」里面，如有需要，请前往设置。



